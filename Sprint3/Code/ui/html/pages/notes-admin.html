{{define "title"}}Admin Notes{{end}}
{{define "admin-notes"}}highlighted{{end}}
{{define "main"}}
<h2>Welcome back, AdminFName1 AdminLName1</h2>
<button type="button"><a href="/home">Logout</a></button>

<div class="notes">
    <ul class="notes-filter">
        <li>
            <label for="patientfname">First Name: </label> 
            <input type="text" id="patientfname" onkeyup="filterTable()">
        </li>
        <li>
            <label for="patientlname">Last Name: </label>
            <input type="text" id="patientlname" onkeyup="filterTable()">
        </li>
        <li>
            <label for="providerfname">Provider First Name: </label> 
            <input type="text" id="providerfname" onkeyup="filterTable()">
        </li>
        <li>
            <label for="providerlname">Provider Last Name: </label>
            <input type="text" id="providerlname" onkeyup="filterTable()">
        </li>
        <li>
            <label for="servicedatestart">Between dates:</label> 
            <input type="date" id="servicedatestart" onchange="filterTable()">
            <label for="servicedateend"> and </label>
            <input type="date" id="servicedateend" onchange="filterTable()"> 
        </li> 
        <li>
            <label for="servicetimestart">Between times:</label> 
            <input type="time" id="servicetimestart" onchange="filterTable()">
            <label for="servicetimeend"> and </label>
            <input type="time" id="servicetimeend" onchange="filterTable()"> 
        </li>
        <li>
            <label for="servicetype">Type of Service:</label> 
            <select id="servicetype" onchange="filterTable()">
                <option value="service1">Service1</option>
                <option value="service2">Service2</option>
                <option value="service3">Service3</option>
                <option value="service4">Service4</option>
            </select> 
        </li> 
        <button class="clear" onclick="clearFilters()">Clear Filters</button>
    </ul>
    <table class="notes-notes" id="myTable">
        <thead>
            <tr>
                <th>Note ID</th>
                <th>Patient FName</th>
                <th>Patient LName</th>
                <th>Provider FName</th>
                <th>Provider LName</th>
                <th>Service Date</th>
                <th>Service Type</th>
                <th>Start Time</th>
                <th>End Time</th>
                <th>Last Saved</th>
                <th>Approved?</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><a href="/note-admin/1234">0000001</a></td>
                <td>PatientFName1</td>
                <td>PatientLName1</td>
                <td>ProviderFName1</td>
                <td>ProviderLName1</td>
                <td>05/15/2024</td>
                <td>Service1</td>
                <td>08:00 AM</td>
                <td>10:00 AM</td>
                <td>10:30 AM 05/15/2024</td>
                <td>YES</td>
            </tr>
            <tr>
                <td><a href="/note-admin/1234">0000002</a></td>
                <td>PatientFName2</td>
                <td>PatientLName2</td>
                <td>ProviderFName2</td>
                <td>ProviderLName2</td>
                <td>05/15/2024</td>
                <td>Service2</td>
                <td>10:30 AM</td>
                <td>01:30 PM</td>
                <td>02:00 PM 05/15/2024</td>
                <td>NO</td>
            </tr>
            <tr>
                <td><a href="/note-admin/1234">0000003</a></td>
                <td>PatientFName3</td>
                <td>PatientLName3</td>
                <td>ProviderFName3</td>
                <td>ProviderLName3</td>
                <td>05/16/2024</td>
                <td>Service3</td>
                <td>09:00 AM</td>
                <td>11:00 AM</td>
                <td>11:30 AM 05/16/2024</td>
                <td>PENDING</td>
            </tr>
            <tr>
                <td><a href="/note-admin/1234">0000004</a></td>
                <td>PatientFName4</td>
                <td>PatientLName4</td>
                <td>ProviderFName4</td>
                <td>ProviderLName4</td>
                <td>05/16/2024</td>
                <td>Service4</td>
                <td>01:00 PM</td>
                <td>03:00 PM</td>
                <td>03:30 PM 05/16/2024</td>
                <td>YES</td>
            </tr>
            <tr>
                <td><a href="/note-admin/1234">0000005</a></td>
                <td>PatientFName5</td>
                <td>PatientLName5</td>
                <td>ProviderFName5</td>
                <td>ProviderLName5</td>
                <td>05/17/2024</td>
                <td>Service1</td>
                <td>09:00 AM</td>
                <td>11:00 AM</td>
                <td>11:30 AM 05/17/2024</td>
                <td>NO</td>
            </tr>
            <tr>
                <td><a href="/note-admin/1234">0000006</a></td>
                <td>PatientFName1</td>
                <td>PatientLName1</td>
                <td>ProviderFName2</td>
                <td>ProviderLName2</td>
                <td>05/17/2024</td>
                <td>Service2</td>
                <td>11:30 AM</td>
                <td>01:30 PM</td>
                <td>02:00 PM 05/17/2024</td>
                <td>YES</td>
            </tr>
            <tr>
                <td><a href="/note-admin/1234">0000007</a></td>
                <td>PatientFName2</td>
                <td>PatientLName2</td>
                <td>ProviderFName3</td>
                <td>ProviderLName3</td>
                <td>05/18/2024</td>
                <td>Service3</td>
                <td>09:30 AM</td>
                <td>11:30 AM</td>
                <td>12:00 PM 05/18/2024</td>
                <td>PENDING</td>
            </tr>
            <tr>
                <td><a href="/note-admin/1234">0000008</a></td>
                <td>PatientFName3</td>
                <td>PatientLName3</td>
                <td>ProviderFName4</td>
                <td>ProviderLName4</td>
                <td>05/18/2024</td>
                <td>Service4</td>
                <td>01:30 PM</td>
                <td>03:30 PM</td>
                <td>04:00 PM 05/18/2024</td>
                <td>NO</td>
            </tr>
            <!-- Continue with the remaining rows -->
            <tr>
                <td><a href="/note-admin/1234">0000009</a></td>
                <td>PatientFName4</td>
                <td>PatientLName4</td>
                <td>ProviderFName5</td>
                <td>ProviderLName5</td>
                <td>05/19/2024</td>
                <td>Service1</td>
                <td>10:00 AM</td>
                <td>12:00 PM</td>
                <td>12:30 PM 05/19/2024</td>
                <td>YES</td>
            </tr>
            <tr>
                <td><a href="/note-admin/1234">0000010</a></td>
                <td>PatientFName5</td>
                <td>PatientLName5</td>
                <td>ProviderFName1</td>
                <td>ProviderLName1</td>
                <td>05/19/2024</td>
                <td>Service2</td>
                <td>01:00 PM</td>
                <td>03:00 PM</td>
                <td>03:30 PM 05/19/2024</td>
                <td>PENDING</td>
            </tr>
            <tr>
                <td><a href="/note-admin/1234">0000011</a></td>
                <td>PatientFName1</td>
                <td>PatientLName1</td>
                <td>ProviderFName3</td>
                <td>ProviderLName3</td>
                <td>05/20/2024</td>
                <td>Service3</td>
                <td>08:30 AM</td>
                <td>10:30 AM</td>
                <td>11:00 AM 05/20/2024</td>
                <td>YES</td>
            </tr>
            <tr>
                <td><a href="/note-admin/1234">0000012</a></td>
                <td>PatientFName2</td>
                <td>PatientLName2</td>
                <td>ProviderFName4</td>
                <td>ProviderLName4</td>
                <td>05/20/2024</td>
                <td>Service4</td>
                <td>11:00 AM</td>
                <td>01:00 PM</td>
                <td>01:30 PM 05/20/2024</td>
                <td>PENDING</td>
            </tr>
            <tr>
                <td><a href="/note-admin/1234">0000013</a></td>
                <td>PatientFName3</td>
                <td>PatientLName3</td>
                <td>ProviderFName5</td>
                <td>ProviderLName5</td>
                <td>05/21/2024</td>
                <td>Service1</td>
                <td>09:30 AM</td>
                <td>11:30 AM</td>
                <td>12:00 PM 05/21/2024</td>
                <td>YES</td>
            </tr>
            <tr>
                <td><a href="/note-admin/1234">0000014</a></td>
                <td>PatientFName4</td>
                <td>PatientLName4</td>
                <td>ProviderFName1</td>
                <td>ProviderLName1</td>
                <td>05/21/2024</td>
                <td>Service2</td>
                <td>01:00 PM</td>
                <td>03:00 PM</td>
                <td>03:30 PM 05/21/2024</td>
                <td>PENDING</td>
            </tr>
            <tr>
                <td><a href="/note-admin/1234">0000015</a></td>
                <td>PatientFName5</td>
                <td>PatientLName5</td>
                <td>ProviderFName2</td>
                <td>ProviderLName2</td>
                <td>05/22/2024</td>
                <td>Service3</td>
                <td>10:00 AM</td>
                <td>12:00 PM</td>
                <td>12:30 PM 05/22/2024</td>
                <td>YES</td>
            </tr>
            <tr>
                <td><a href="/note-admin/1234">0000016</a></td>
                <td>PatientFName1</td>
                <td>PatientLName1</td>
                <td>ProviderFName4</td>
                <td>ProviderLName4</td>
                <td>05/22/2024</td>
                <td>Service4</td>
                <td>01:30 PM</td>
                <td>03:30 PM</td>
                <td>04:00 PM 05/22/2024</td>
                <td>NO</td>
            </tr>
            <tr>
                <td><a href="/note-admin/1234">0000017</a></td>
                <td>PatientFName2</td>
                <td>PatientLName2</td>
                <td>ProviderFName5</td>
                <td>ProviderLName5</td>
                <td>05/23/2024</td>
                <td>Service1</td>
                <td>08:00 AM</td>
                <td>10:00 AM</td>
                <td>10:30 AM 05/23/2024</td>
                <td>PENDING</td>
            </tr>
            <tr>
                <td><a href="/note-admin/1234">0000018</a></td>
                <td>PatientFName3</td>
                <td>PatientLName3</td>
                <td>ProviderFName1</td>
                <td>ProviderLName1</td>
                <td>05/23/2024</td>
                <td>Service2</td>
                <td>10:30 AM</td>
                <td>12:30 PM</td>
                <td>01:00 PM 05/23/2024</td>
                <td>YES</td>
            </tr>
            <tr>
                <td><a href="/note-admin/1234">0000019</a></td>
                <td>PatientFName4</td>
                <td>PatientLName4</td>
                <td>ProviderFName2</td>
                <td>ProviderLName2</td>
                <td>05/24/2024</td>
                <td>Service3</td>
                <td>11:00 AM</td>
                <td>01:00 PM</td>
                <td>01:30 PM 05/24/2024</td>
                <td>NO</td>
            </tr>
            <tr>
                <td><a href="/note-admin/1234">0000020</a></td>
                <td>PatientFName5</td>
                <td>PatientLName5</td>
                <td>ProviderFName3</td>
                <td>ProviderLName3</td>
                <td>05/24/2024</td>
                <td>Service4</td>
                <td>01:30 PM</td>
                <td>03:30 PM</td>
                <td>04:00 PM 05/24/2024</td>
                <td>PENDING</td>
            </tr>
            <tr>
                <td><a href="/note-admin/1234">0000021</a></td>
                <td>PatientFName1</td>
                <td>PatientLName1</td>
                <td>ProviderFName5</td>
                <td>ProviderLName5</td>
                <td>05/25/2024</td>
                <td>Service1</td>
                <td>09:00 AM</td>
                <td>11:00 AM</td>
                <td>11:30 AM 05/25/2024</td>
                <td>YES</td>
            </tr>
            <tr>
                <td><a href="/note-admin/1234">0000022</a></td>
                <td>PatientFName2</td>
                <td>PatientLName2</td>
                <td>ProviderFName1</td>
                <td>ProviderLName1</td>
                <td>05/25/2024</td>
                <td>Service2</td>
                <td>11:30 AM</td>
                <td>01:30 PM</td>
                <td>02:00 PM 05/25/2024</td>
                <td>PENDING</td>
            </tr>
            <tr>
                <td><a href="/note-admin/1234">0000023</a></td>
                <td>PatientFName3</td>
                <td>PatientLName3</td>
                <td>ProviderFName2</td>
                <td>ProviderLName2</td>
                <td>05/26/2024</td>
                <td>Service3</td>
                <td>09:30 AM</td>
                <td>11:30 AM</td>
                <td>12:00 PM 05/26/2024</td>
                <td>YES</td>
            </tr>
            <tr>
                <td><a href="/note-admin/1234">0000024</a></td>
                <td>PatientFName4</td>
                <td>PatientLName4</td>
                <td>ProviderFName3</td>
                <td>ProviderLName3</td>
                <td>05/26/2024</td>
                <td>Service4</td>
                <td>01:00 PM</td>
                <td>03:00 PM</td>
                <td>03:30 PM 05/26/2024</td>
                <td>PENDING</td>
            </tr>
            <tr>
                <td><a href="/note-admin/1234">0000025</a></td>
                <td>PatientFName5</td>
                <td>PatientLName5</td>
                <td>ProviderFName4</td>
                <td>ProviderLName4</td>
                <td>05/27/2024</td>
                <td>Service1</td>
                <td>10:00 AM</td>
                <td>12:00 PM</td>
                <td>12:30 PM 05/27/2024</td>
                <td>YES</td>
            </tr>
            <tr>
                <td><a href="/note-admin/1234">0000026</a></td>
                <td>PatientFName1</td>
                <td>PatientLName1</td>
                <td>ProviderFName2</td>
                <td>ProviderLName2</td>
                <td>05/27/2024</td>
                <td>Service2</td>
                <td>01:30 PM</td>
                <td>03:30 PM</td>
                <td>04:00 PM 05/27/2024</td>
                <td>YES</td>
            </tr>
            <tr>
                <td><a href="/note-admin/1234">0000027</a></td>
                <td>PatientFName2</td>
                <td>PatientLName2</td>
                <td>ProviderFName3</td>
                <td>ProviderLName3</td>
                <td>05/28/2024</td>
                <td>Service3</td>
                <td>09:00 AM</td>
                <td>11:00 AM</td>
                <td>11:30 AM 05/28/2024</td>
                <td>PENDING</td>
            </tr>
            <tr>
                <td><a href="/note-admin/1234">0000028</a></td>
                <td>PatientFName3</td>
                <td>PatientLName3</td>
                <td>ProviderFName4</td>
                <td>ProviderLName4</td>
                <td>05/28/2024</td>
                <td>Service4</td>
                <td>01:00 PM</td>
                <td>03:00 PM</td>
                <td>03:30 PM 05/28/2024</td>
                <td>YES</td>
            </tr>
            <tr>
                <td><a href="/note-admin/1234">0000029</a></td>
                <td>PatientFName4</td>
                <td>PatientLName4</td>
                <td>ProviderFName5</td>
                <td>ProviderLName5</td>
                <td>05/29/2024</td>
                <td>Service1</td>
                <td>10:00 AM</td>
                <td>12:00 PM</td>
                <td>12:30 PM 05/29/2024</td>
                <td>YES</td>
            </tr>
            <tr>
                <td><a href="/note-admin/1234">0000030</a></td>
                <td>PatientFName5</td>
                <td>PatientLName5</td>
                <td>ProviderFName1</td>
                <td>ProviderLName1</td>
                <td>05/29/2024</td>
                <td>Service2</td>
                <td>01:00 PM</td>
                <td>03:00 PM</td>
                <td>03:30 PM 05/29/2024</td>
                <td>PENDING</td>
            </tr>                     

        </tbody>
    </table>
</div>

<script>
document.getElementById("servicetype").selectedIndex = -1;

function clearDateFilter() {
    document.getElementById("servicedatestart").value = "";
    document.getElementById("servicedateend").value = "";
    filterTable();
}

function clearTimeFilter() {
    document.getElementById("servicetimestart").value = "";
    document.getElementById("servicetimeend").value = "";
    filterTable();
}

function clearServiceFilter() {
    document.getElementById("servicetype").selectedIndex = -1;
    filterTable();
}

function clearFilters() {
    document.getElementById("patientfname").value = "";
    document.getElementById("patientlname").value = "";
    document.getElementById("providerfname").value = "";
    document.getElementById("providerlname").value = "";
    clearDateFilter();
    clearTimeFilter();
    clearServiceFilter();
    filterTable();
}

function filterTable() {
    // Get filter inputs
    var input_patientfname = document.getElementById("patientfname").value.toLowerCase();
    var input_patientlname = document.getElementById("patientlname").value.toLowerCase();
    var input_providerfname = document.getElementById("providerfname").value.toLowerCase();
    var input_providerlname = document.getElementById("providerlname").value.toLowerCase();
    var input_servicedatestart = document.getElementById("servicedatestart").value;
    var input_servicedateend = document.getElementById("servicedateend").value;
    var input_servicetimestart = document.getElementById("servicetimestart").value;
    var input_servicetimeend = document.getElementById("servicetimeend").value;
    var input_servicetype = document.getElementById("servicetype").value.toLowerCase();

    // Get the table and its rows
    var table = document.getElementById("myTable");
    var tr = table.getElementsByTagName("tr");

    // Loop through each row of the table
    for (var i = 1; i < tr.length; i++) {
        var row = tr[i];

        // Get data from each cell of the row
        var noteId = row.cells[0].textContent || row.cells[0].innerText;
        var patientFName = row.cells[1].textContent || row.cells[1].innerText;
        var patientLName = row.cells[2].textContent || row.cells[2].innerText;
        var providerFName = row.cells[3].textContent || row.cells[3].innerText;
        var providerLName = row.cells[4].textContent || row.cells[4].innerText;
        var serviceDate = row.cells[5].textContent || row.cells[5].innerText;
        var serviceType = row.cells[6].textContent || row.cells[6].innerText;
        var startTime = row.cells[7].textContent || row.cells[7].innerText;

        // Check if the row matches the filter criteria
        var patientFNameMatch = patientFName.toLowerCase().includes(input_patientfname);
        var patientLNameMatch = patientLName.toLowerCase().includes(input_patientlname);
        var providerFNameMatch = providerFName.toLowerCase().includes(input_providerfname);
        var providerLNameMatch = providerLName.toLowerCase().includes(input_providerlname);
        var serviceTypeMatch = serviceType.toLowerCase().includes(input_servicetype);
        var serviceDateMatch = true;
        var startTimeMatch = true;

        // Check date filter
        if (input_servicedatestart && input_servicedateend) {
            var serviceDateObj = new Date(serviceDate);
            var startDateObj = new Date(input_servicedatestart);
            var endDateObj = new Date(input_servicedateend);
            serviceDateMatch = serviceDateObj >= startDateObj && serviceDateObj <= endDateObj;
        } else if (input_servicedatestart) {
            var serviceDateObj = new Date(serviceDate);
            var startDateObj = new Date(input_servicedatestart);
            serviceDateMatch = serviceDateObj >= startDateObj;
        } else if (input_servicedateend) {
            var serviceDateObj = new Date(serviceDate);
            var endDateObj = new Date(input_servicedateend);
            serviceDateMatch = serviceDateObj <= endDateObj;
        }

        // Check time filter
        if (input_servicetimestart && input_servicetimeend) {
            var startTimeObj = new Date("01/01/1970 " + startTime);
            var endTimeObj = new Date("01/01/1970 " + row.cells[8].textContent.trim());
            var startTimeInputObj = new Date("01/01/1970 " + input_servicetimestart);
            var endTimeInputObj = new Date("01/01/1970 " + input_servicetimeend);
            startTimeMatch = startTimeObj >= startTimeInputObj && endTimeObj <= endTimeInputObj;
        } else if (input_servicetimestart) {
            var startTimeObj = new Date("01/01/1970 " + startTime);
            var startTimeInputObj = new Date("01/01/1970 " + input_servicetimestart);
            startTimeMatch = startTimeObj >= startTimeInputObj;
        } else if (input_servicetimeend) {
            var endTimeObj = new Date("01/01/1970 " + row.cells[8].textContent.trim());
            var endTimeInputObj = new Date("01/01/1970 " + input_servicetimeend);
            startTimeMatch = endTimeObj <= endTimeInputObj;
        }

        // Show or hide row based on filter criteria
        if (patientFNameMatch && patientLNameMatch && providerFNameMatch && providerLNameMatch && serviceTypeMatch && serviceDateMatch && startTimeMatch) {
            row.style.display = "";
        } else {
            row.style.display = "none";
        }
    }
}


</script>

{{end}}
